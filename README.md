# 第8章高级数据可视化技术

## 项目简介

本项目基于《数据可视化第8章》的内容，实现了一个包含10个高级图表类型的现代化数据可视化网站。项目展示了等高线图、矢量场流线图、棉棒图、哑铃图、甘特图、人口金字塔图、漏斗图、桑基图、树状图和华夫饼图等高级可视化技术。

## 功能特性

### 🎨 10个高级可视化图表

#### 8.1 等高线图
- **应用场景**: 地形高度分布、温度场、压力场分析
- **特性**: 
  - 支持3种数据集（高斯分布、多峰函数、波纹函数）
  - 可切换填充/线框模式
  - 支持多种颜色方案
  - 交互式3D视角控制

#### 8.2 矢量场流线图
- **应用场景**: 流体动力学、磁场分布、风速分析
- **特性**:
  - 3种流场类型（螺旋流、环形流、湍流）
  - 可调节流线密度
  - 动态流线效果
  - 支持箭头显示

#### 8.3 棉棒图
- **应用场景**: 数据对比、指标展示、排名分析
- **特性**:
  - 支持横向/纵向切换
  - 多种样式主题
  - 数据标签显示
  - 悬停交互效果

#### 8.4 哑铃图
- **应用场景**: 前后对比、变化分析、差异展示
- **特性**:
  - 多数据集切换
  - 动态颜色配置
  - 差值计算显示
  - 渐变效果

#### 8.5 甘特图
- **应用场景**: 项目管理、进度跟踪、时间线规划
- **特性**:
  - 任务添加/编辑
  - 进度条显示
  - 时间筛选功能
  - 依赖关系可视化

#### 8.6 人口金字塔图
- **应用场景**: 人口统计、年龄结构、性别分布分析
- **特性**:
  - 多年份数据对比
  - 百分比/绝对值切换
  - 人口预测展示
  - 交互式数据探索

#### 8.7 漏斗图
- **应用场景**: 销售转化、用户转化、筛选分析
- **特性**:
  - 多种漏斗类型（销售、招聘、用户转化）
  - 升序/降序排列
  - 转化率计算
  - 标签显示控制

#### 8.8 桑基图
- **应用场景**: 流量分析、能量流向、资金流向
- **特性**:
  - 多数据集切换
  - 布局优化
  - 标签显示控制
  - 节点悬停效果

#### 8.9 树状图
- **应用场景**: 层次结构、文件系统、组织架构
- **特性**:
  - 多种树形数据（文件系统、组织结构、产品分类）
  - 交互式缩放
  - 数值标签控制
  - 层级颜色区分

#### 8.10 华夫饼图
- **应用场景**: 占比分析、成分展示、比例比较
- **特性**:
  - 多种数据场景（市场份额、预算分配、时间分配）
  - 可调网格尺寸
  - 方形/圆形样式切换
  - 图例展示控制

## 技术栈

### 前端技术
- **HTML5**: 语义化标签、现代网页结构
- **CSS3**: 
  - CSS Grid & Flexbox布局
  - 渐变背景和毛玻璃效果
  - CSS动画和过渡
  - 响应式设计
  - 高对比度模式支持
  - 减少动画模式支持
- **JavaScript ES6+**: 
  - 模块化编程
  - 异步数据处理
  - 事件驱动架构
  - 面向对象设计

### 可视化库
- **ECharts 5.4.3**: 
  - 2D图表基础框架
  - 丰富的图表类型
  - 主题配置
  - 交互式工具提示
- **ECharts GL 2.0.9**: 
  - 3D图表支持
  - WebGL渲染
  - 高性能计算
- **D3.js v7**: 
  - 数据驱动文档
  - 自定义可视化
  - SVG操作

## 项目结构

```
chapter8/
├── index.html                    # 主页面文件
├── css/
│   └── style.css                # 样式文件
├── js/
│   └── app.js                   # 核心JavaScript逻辑
├── data/
│   ├── terrain-data.json         # 地形数据集
│   ├── project-gantt.json        # 项目甘特图数据
│   ├── population-demographics.json # 人口统计数据
│   └── energy-sankey.csv         # 能源流向数据
└── README.md                     # 项目说明文档
```

## 安装和运行

### 本地运行
1. 克隆或下载项目到本地
2. 使用HTTP服务器运行：

```bash
# 使用Python内置服务器
python -m http.server 8000

# 使用Node.js的http-server
npx http-server

# 使用PHP内置服务器
php -S localhost:8000
```

3. 在浏览器中访问 `http://localhost:8000`

### 直接打开
也可以直接双击 `index.html` 文件在浏览器中打开，但某些功能可能受限于同源策略。

## 使用说明

### 页面导航
- 使用顶部导航栏快速跳转到各个图表
- 支持平滑滚动效果
- 当前章节高亮显示

### 图表交互
每个图表都提供了交互控制按钮：

#### 通用交互
- **鼠标悬停**: 查看数据详情
- **鼠标拖拽**: 3D图表旋转视角
- **鼠标滚轮**: 缩放图表

#### 特定控制
- **等高线图**: 切换数据集、显示填充、改变颜色
- **矢量场图**: 切换流场类型、调整密度、显示箭头
- **棉棒图**: 横向/纵向切换、改变样式、数据标签
- **哑铃图**: 数据集切换、颜色变化、差值显示
- **甘特图**: 添加任务、显示进度、时间筛选
- **金字塔图**: 年份切换、百分比显示、预测对比
- **雷达图**: 系列添加、维度调整、数值显示
- **桑基图**: 数据切换、布局调整、标签控制

## 数据文件说明

### terrain-data.json
地形高度数据，用于等高线图：
```json
{
  "terrain_types": [
    {
      "name": "mountain_peak",
      "equation": "z = 1000 * exp(-((x-2)^2 + (y-2)^2)/2)",
      "description": "山地地形"
    }
  ]
}
```

### project-gantt.json
项目管理数据，用于甘特图：
```json
{
  "tasks": [
    {
      "name": "需求分析",
      "start_day": 0,
      "duration": 15,
      "progress": 100
    }
  ]
}
```

### population-demographics.json
人口统计数据，用于金字塔图：
```json
{
  "years": {
    "2020": {
      "age_groups": [
        {
          "range": "0-9",
          "male": 7890,
          "female": 7245
        }
      ]
    }
  }
}
```

### energy-sankey.csv
能源流向数据，用于桑基图：
```csv
source,target,value
太阳能,发电厂,150
风能,发电厂,200
```

## 响应式设计

### 断点设计
- **大屏** (≥1200px): 双列布局，完整功能
- **平板** (768px-1199px): 单列布局，按钮横向排列
- **手机** (≤767px): 紧凑布局，按钮纵向排列
- **小屏** (≤480px): 极简布局，垂直导航

### 无障碍支持
- 高对比度模式
- 减少动画模式
- 语义化HTML结构
- 键盘导航支持
- 屏幕阅读器友好

## 浏览器兼容性

| 浏览器 | 最低版本 | 说明 |
|--------|----------|------|
| Chrome | 60+ | 完全支持 |
| Firefox | 55+ | 完全支持 |
| Safari | 12+ | 完全支持 |
| Edge | 79+ | 完全支持 |

### WebGL支持
3D图表需要WebGL支持，可在以下网站检查：
https://get.webgl.org/

## 性能优化

### 图表性能
- 使用WebGL加速3D渲染
- 数据采样减少渲染负担
- 懒加载非可见图表
- 动画帧率控制

### 内存管理
- 及时销毁图表实例
- 避免内存泄漏
- 事件监听器清理
- 数据缓存优化

### 加载优化
- CDN加速资源加载
- 资源预加载
- 图片懒加载
- 代码分割

## 自定义和扩展

### 添加新图表类型
1. 在HTML中添加新的容器
2. 在CSS中添加样式
3. 在JavaScript中实现初始化方法
4. 绑定控制按钮事件

### 修改数据源
1. 更新data目录中的数据文件
2. 在JavaScript中调整数据加载逻辑
3. 重新映射数据字段

### 自定义样式
1. 修改CSS变量和主题
2. 调整响应式断点
3. 更新动画效果
4. 优化配色方案

## 常见问题

### Q: 3D图表显示不正常
A: 检查浏览器WebGL支持，更新显卡驱动

### Q: 图表加载缓慢
A: 减少数据点数量，启用硬件加速

### Q: 移动端显示异常
A: 检查响应式断点，测试不同设备

### Q: 数据不更新
A: 检查数据文件路径，验证JSON格式

## 开发团队

本项目基于《数据可视化第8章》课程内容开发，展示了高级数据可视化技术在Web应用中的实际应用。

## 版本历史

### v1.0.0 (2025-12-08)
- 初始版本发布
- 实现8个高级图表类型
- 完成响应式设计
- 添加交互控制功能
- 集成真实数据集

### 计划功能 (v2.0.0)
- 数据导入/导出功能
- 图表主题编辑器
- 更多自定义选项
- 性能分析工具

## 许可证

本项目仅用于学习目的，请遵循相关的开源许可证要求。

## 贡献指南

欢迎提交Issue和Pull Request来改进项目：

1. Fork项目
2. 创建功能分支
3. 提交更改
4. 发起Pull Request

---

🌟 **感谢使用第8章高级数据可视化技术！**

如有问题或建议，请通过GitHub Issues联系我们。